<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>(ES)(Bash) Detectar si un script se está ejecutando como root | Jose-Linares.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Hay veces que para que un script funcione correctamente, es necesario que se ejecute con privilegios de administrador, o root. Para detectar si el usuario está ejecutando tu script de este modo, pued">
<meta property="og:type" content="article">
<meta property="og:title" content="(ES)(Bash) Detectar si un script se está ejecutando como root">
<meta property="og:url" content="http://jose-linares.com/13/06/2013/old_bash-detectar-si-un-script-se-esta-ejecutando-como-root/index.html">
<meta property="og:site_name" content="Jose-Linares.com">
<meta property="og:description" content="Hay veces que para que un script funcione correctamente, es necesario que se ejecute con privilegios de administrador, o root. Para detectar si el usuario está ejecutando tu script de este modo, pued">
<meta property="og:image" content="http://www.areandroid.com/wp-content/uploads/2012/06/root1.jpg">
<meta property="og:updated_time" content="2017-01-04T22:44:30.894Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="(ES)(Bash) Detectar si un script se está ejecutando como root">
<meta name="twitter:description" content="Hay veces que para que un script funcione correctamente, es necesario que se ejecute con privilegios de administrador, o root. Para detectar si el usuario está ejecutando tu script de este modo, pued">
<meta name="twitter:image" content="http://www.areandroid.com/wp-content/uploads/2012/06/root1.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Jose-Linares.com" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    <body>
  
      <div id="container" class="container">
        <article id="post-old_bash-detectar-si-un-script-se-esta-ejecutando-como-root" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      (ES)(Bash) Detectar si un script se está ejecutando como root
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <p><img src="http://www.areandroid.com/wp-content/uploads/2012/06/root1.jpg" alt=""> Hay veces que para que un script funcione correctamente, es necesario que se ejecute con privilegios de administrador, o root. Para detectar si el usuario está ejecutando tu script de este modo, puedes hacer la siguiente comprobación: </p>
<pre><code>user=$(whoami)
if [ &quot;$user&quot; == &quot;root&quot; ]; then
   esroot=true
   echo &quot;Eres Root! :)&quot;
else
   esroot=false
   echo &quot;No eres root... :&apos;(&quot; 
   exit
fi
</code></pre><p>Espero que os sea de utilidad :D</p>
<h2 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h2><p><strong><a href="#319" title="2014-02-01 15:24:46">SeG</a>:</strong> Genial, un must have en todos mis script a partir de ahora. Ahorra la aparición de muchos errores a causa de privilegios limitados.</p>
<p><strong><a href="#320" title="2014-02-01 19:26:42">Jose Linares Rojas</a>:</strong> Hola Seg, gracias pro tu comentario, pero no veo buena idea eso de añadirlo a todos los script. Ejecutar algo con privilegios de administrador cuando no son estrictamente necesarios puede dar lugar a brechas importantes de seguridad</p>
<p><strong><a href="#333" title="2014-03-22 23:10:59">Yair</a>:</strong> Genial muchas gracias me fui muy útil para mi instalador de paquetes por materias gracias :D</p>
<p><strong><a href="#366" title="2014-09-23 14:15:18">René</a>:</strong> Muchas Gracias José.. justo lo que estuve buscando, porque por descuido ejecute un script que necesitaba permisos de root como user común y me trajo algunos inconvenientes, que si bien los solucioné, me entró la inquietud de como hacer que el scrip no se ejecute si no tenia permisos de root.. para evitar futuras complicaciones y así encontre tu codigo que era justo lo que estaba buscando.. Muy buen aporte.. Gracias y saludos.</p>
<blockquote>
<p>Article automatically imported from my old wordpress blog. Here only for reference. Possible format errors and probable missing images. Sorry about that.</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/13/06/2013/old_bash-detectar-si-un-script-se-esta-ejecutando-como-root/" class="article-date">
  <time datetime="2013-06-13T17:10:31.000Z" itemprop="datePublished">13/06/2013</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/15/06/2013/old_bash-scripting-lanzar-notificaciones-en-tus-scripts/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (ES)(Bash scripting) Lanzar notificaciones en tus scripts
        
      </div>
    </a>
  
  
    <a href="/13/06/2013/old_detectar-routers-con-wps-activado-sin-usar-wash/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">(ES)Detectar routers con WPS activado sin usar wash</div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>2017 @ Any Rights Reserved</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
