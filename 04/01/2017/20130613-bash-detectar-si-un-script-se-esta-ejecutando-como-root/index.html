<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Jose-Linares.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="title: [Bash] Detectar si un script se está ejecutando como rootlink: http://jose-linares.com/bash-detectar-si-un-script-se-esta-ejecutando-como-root/author: koji3description:post_id: 521created: 2013">
<meta property="og:type" content="article">
<meta property="og:title" content="Jose-Linares.com">
<meta property="og:url" content="http://jose-linares.com/04/01/2017/20130613-bash-detectar-si-un-script-se-esta-ejecutando-como-root/index.html">
<meta property="og:site_name" content="Jose-Linares.com">
<meta property="og:description" content="title: [Bash] Detectar si un script se está ejecutando como rootlink: http://jose-linares.com/bash-detectar-si-un-script-se-esta-ejecutando-como-root/author: koji3description:post_id: 521created: 2013">
<meta property="og:image" content="http://www.areandroid.com/wp-content/uploads/2012/06/root1.jpg">
<meta property="og:updated_time" content="2017-01-04T10:54:02.327Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jose-Linares.com">
<meta name="twitter:description" content="title: [Bash] Detectar si un script se está ejecutando como rootlink: http://jose-linares.com/bash-detectar-si-un-script-se-esta-ejecutando-como-root/author: koji3description:post_id: 521created: 2013">
<meta name="twitter:image" content="http://www.areandroid.com/wp-content/uploads/2012/06/root1.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Jose-Linares.com" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    <body>
  
      <div id="container" class="container">
        <article id="post-20130613-bash-detectar-si-un-script-se-esta-ejecutando-como-root" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <p>title: [Bash] Detectar si un script se está ejecutando como root<br>link: <a href="http://jose-linares.com/bash-detectar-si-un-script-se-esta-ejecutando-como-root/">http://jose-linares.com/bash-detectar-si-un-script-se-esta-ejecutando-como-root/</a><br>author: koji3<br>description:<br>post_id: 521<br>created: 2013/06/13 19:10:31<br>created_gmt: 2013/06/13 19:10:31<br>comment_status: open<br>post_name: bash-detectar-si-un-script-se-esta-ejecutando-como-root<br>status: publish<br>post_type: post</p>
<h1 id="Bash-Detectar-si-un-script-se-esta-ejecutando-como-root"><a href="#Bash-Detectar-si-un-script-se-esta-ejecutando-como-root" class="headerlink" title="[Bash] Detectar si un script se está ejecutando como root"></a>[Bash] Detectar si un script se está ejecutando como root</h1><p><img src="http://www.areandroid.com/wp-content/uploads/2012/06/root1.jpg" alt=""> Hay veces que para que un script funcione correctamente, es necesario que se ejecute con privilegios de administrador, o root. Para detectar si el usuario está ejecutando tu script de este modo, puedes hacer la siguiente comprobación: </p>
<pre><code>user=$(whoami)
if [ &quot;$user&quot; == &quot;root&quot; ]; then
   esroot=true
   echo &quot;Eres Root! :)&quot;
else
   esroot=false
   echo &quot;No eres root... :&apos;(&quot; 
   exit
fi
</code></pre><p>Espero que os sea de utilidad :D</p>
<h2 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h2><p><strong><a href="#319" title="2014-02-01 15:24:46">SeG</a>:</strong> Genial, un must have en todos mis script a partir de ahora. Ahorra la aparición de muchos errores a causa de privilegios limitados.</p>
<p><strong><a href="#320" title="2014-02-01 19:26:42">Jose Linares Rojas</a>:</strong> Hola Seg, gracias pro tu comentario, pero no veo buena idea eso de añadirlo a todos los script. Ejecutar algo con privilegios de administrador cuando no son estrictamente necesarios puede dar lugar a brechas importantes de seguridad</p>
<p><strong><a href="#333" title="2014-03-22 23:10:59">Yair</a>:</strong> Genial muchas gracias me fui muy útil para mi instalador de paquetes por materias gracias :D</p>
<p><strong><a href="#366" title="2014-09-23 14:15:18">René</a>:</strong> Muchas Gracias José.. justo lo que estuve buscando, porque por descuido ejecute un script que necesitaba permisos de root como user común y me trajo algunos inconvenientes, que si bien los solucioné, me entró la inquietud de como hacer que el scrip no se ejecute si no tenia permisos de root.. para evitar futuras complicaciones y así encontre tu codigo que era justo lo que estaba buscando.. Muy buen aporte.. Gracias y saludos.</p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/04/01/2017/20130613-bash-detectar-si-un-script-se-esta-ejecutando-como-root/" class="article-date">
  <time datetime="2017-01-04T22:11:59.608Z" itemprop="datePublished">04/01/2017</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/04/01/2017/20130616-bash-scripting-eliminar-una-linea-de-un-archivo/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/04/01/2017/20130613-detectar-routers-con-wps-activado-sin-usar-wash/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>2017 @ Any Rights Reserved</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
