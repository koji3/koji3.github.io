<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Jose-Linares.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="title: Mostrar aviso por pantalla cada cierto tiempo o pasado un ratolink: http://jose-linares.com/mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato/author: koji3description:post_id: 724c">
<meta property="og:type" content="article">
<meta property="og:title" content="Jose-Linares.com">
<meta property="og:url" content="http://jose-linares.com/04/01/2017/20131106-mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato/index.html">
<meta property="og:site_name" content="Jose-Linares.com">
<meta property="og:description" content="title: Mostrar aviso por pantalla cada cierto tiempo o pasado un ratolink: http://jose-linares.com/mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato/author: koji3description:post_id: 724c">
<meta property="og:updated_time" content="2017-01-04T10:54:02.454Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jose-Linares.com">
<meta name="twitter:description" content="title: Mostrar aviso por pantalla cada cierto tiempo o pasado un ratolink: http://jose-linares.com/mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato/author: koji3description:post_id: 724c">
  
    <link rel="alternate" href="/atom.xml" title="Jose-Linares.com" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    <body>
  
      <div id="container" class="container">
        <article id="post-20131106-mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <p>title: Mostrar aviso por pantalla cada cierto tiempo o pasado un rato<br>link: <a href="http://jose-linares.com/mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato/">http://jose-linares.com/mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato/</a><br>author: koji3<br>description:<br>post_id: 724<br>created: 2013/11/06 16:10:41<br>created_gmt: 2013/11/06 16:10:41<br>comment_status: open<br>post_name: mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato<br>status: publish<br>post_type: post</p>
<h1 id="Mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato"><a href="#Mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato" class="headerlink" title="Mostrar aviso por pantalla cada cierto tiempo o pasado un rato"></a>Mostrar aviso por pantalla cada cierto tiempo o pasado un rato</h1><p>Y tan pronto publico el post 100, ahora voy con el 101 ;) Antes tenía un problema y era que no podía desplegar ventanas de zenity desde cron; es decir, si ejecutaba un script que creaba cuadros de diálogo de zenity funcionaba, pero si ese script lo planificaba mediante cron, no lo mostraba. Hoy he encontrado la solución. Esta solución consiste en especificar la pantalla (display) sobre la que se mostrará. Esto soluciona el problema. ¿Y como especificamos que pantalla usar? Pues mediante la variable DISPLAY: </p>
<pre><code>DISPLAY=:0 zenity --entry                 #Muestra una entrada zenity en la pantalla 0
</code></pre><p>Esto hará que la veamos en la pantalla principal. Y puede, por supuesto, utilizarse con otros programas que usen X (gráficos); así como usarse en displays virtuales (ver <a href="http://en.wikipedia.org/wiki/Xvfb" target="_blank" rel="external">xvfb</a>). Supongo que no funcionaba porque mostraba la ventana en otra pantalla, pero si alguien sabe el motivo que lo comente. Ahora vamos a utilizar este conocimiento para crearnos un programita de alarmas: no aprendemos si no lo utilizamos. El script va a consistir en lo siguiente: </p>
<ul>
<li>Consultar el asunto</li>
<li>Pedir datos necesarios en formato at</li>
<li>Instalarla en el sistema<br>Ahí va el código: </li>
</ul>
<pre><code>#!/bin/bash

#Programado para jose-linares.com
#Utilizalo, copialo, modificalo pero mantén la autoría ;)

asunto=$(zenity --entry --text=&quot;Introduce el asunto a recordar&quot;)
momento=$(zenity --entry --text=&quot;Introduce el momento en formato at&quot;)
echo &quot;DISPLAY=:0 zenity --info --text=\&quot;$asunto\&quot;&quot; | at $momento &gt; /dev/null    
if [ $? == 0 ]; then
    zenity --info --text=&quot;Todo Ok&quot;
else
    zenity --info --text=&quot;Error al crear la alarma (Formato incorrecto? -&gt; $momento)&quot;
fi
</code></pre><h2 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h2><p><strong><a href="#449" title="2016-03-10 20:40:39">Juangmuriel</a>:</strong> muy bueno, esto es lo que buscaba, lo probare en los scprits del cron.</p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/04/01/2017/20131106-mostrar-aviso-por-pantalla-cada-cierto-tiempo-o-pasado-un-rato/" class="article-date">
  <time datetime="2017-01-04T22:11:59.619Z" itemprop="datePublished">04/01/2017</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/04/01/2017/20131112-arkos-una-nueva-solucion-de-auto-hosting-en-la-raspberry/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/04/01/2017/20131215-xvfb-trabajando-con-pantallas-virtuales-en-linux/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>2017 @ Any Rights Reserved</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
